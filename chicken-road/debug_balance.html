<!DOCTYPE html>
<html>
<head>
    <title>Debug Balance</title>
    <script src="./res/js/jquery.js"></script>
</head>
<body>
    <h1>Debug Balance Display</h1>
    
    <!-- Точно такая же кнопка как в игре -->
    <button data-rel="menu-balance" style="padding: 10px; background: #333; color: white; border: 1px solid #555;">
        <span>999.99</span>
        <svg width="18" height="18" viewBox="0 0 18 18" style="fill: rgb(255, 255, 255);">
            <use xlink:href="./res/img/currency.svg#USD"></use>
        </svg>
    </button>
    
    <br><br>
    
    <button onclick="testUpdate()">Update to 500.00</button>
    <button onclick="testUpdate2()">Update to 123.45</button>
    
    <div id="log" style="background: #f0f0f0; padding: 10px; margin-top: 20px; height: 200px; overflow-y: scroll;"></div>
    
    <script>
        function log(message) {
            const logDiv = document.getElementById('log');
            logDiv.innerHTML += new Date().toLocaleTimeString() + ': ' + message + '<br>';
            logDiv.scrollTop = logDiv.scrollHeight;
        }
        
        log('Page loaded');
        
        $(document).ready(function() {
            log('jQuery ready');
            
            // Test 1: Simple jQuery selector
            const balanceElement = $('[data-rel="menu-balance"] span');
            log('Found balance elements: ' + balanceElement.length);
            
            if (balanceElement.length > 0) {
                log('Current text: "' + balanceElement.html() + '"');
            }
        });
        
        function testUpdate() {
            log('Testing update to 500.00...');
            const balanceElement = $('[data-rel="menu-balance"] span');
            
            if (balanceElement.length > 0) {
                balanceElement.html('500.00');
                log('Updated successfully');
                log('New text: "' + balanceElement.html() + '"');
            } else {
                log('ERROR: Balance element not found!');
            }
        }
        
        function testUpdate2() {
            log('Testing update to 123.45...');
            const balanceElement = $('[data-rel="menu-balance"] span');
            
            if (balanceElement.length > 0) {
                balanceElement.html('123.45');
                log('Updated successfully');
                log('New text: "' + balanceElement.html() + '"');
            } else {
                log('ERROR: Balance element not found!');
            }
        }
    </script>
</body>
</html>

<!DOCTYPE html>
<html>
<head>
    <title>Chicken Road - Demo Test</title>
    <meta charset="utf-8">
    <style>
        body { font-family: Arial, sans-serif; padding: 20px; }
        .test-result { padding: 10px; margin: 10px 0; border-radius: 5px; }
        .success { background: #d4edda; color: #155724; border: 1px solid #c3e6cb; }
        .error { background: #f8d7da; color: #721c24; border: 1px solid #f5c6cb; }
        .info { background: #d1ecf1; color: #0c5460; border: 1px solid #bee5eb; }
    </style>
</head>
<body>
    <h1>Chicken Road - Demo Test</h1>
    
    <div class="test-result info">
        <h3>–ü—Ä–æ–≤–µ—Ä–∫–∞ –¥–µ–º–æ-—Ä–µ–∂–∏–º–∞</h3>
        <p>–ë–∞–ª–∞–Ω—Å –¥–æ–ª–∂–µ–Ω –±—ã—Ç—å: 1000.00</p>
        <p>–ë–∞–ª–∞–Ω—Å –≤ HTML: <span id="balance-check">–ó–∞–≥—Ä—É–∑–∫–∞...</span></p>
        <p>JavaScript –±–∞–ª–∞–Ω—Å: <span id="js-balance-check">–ó–∞–≥—Ä—É–∑–∫–∞...</span></p>
    </div>
    
    <div class="test-result info">
        <h3>–°—Å—ã–ª–∫–∏ –¥–ª—è —Ç–µ—Å—Ç–∏—Ä–æ–≤–∞–Ω–∏—è</h3>
        <p><a href="/" target="_blank">üéÆ –û—Ç–∫—Ä—ã—Ç—å –∏–≥—Ä—É Chicken Road</a></p>
        <p><a href="/test_api.php" target="_blank">üîß –¢–µ—Å—Ç API –∫–æ—ç—Ñ—Ñ–∏—Ü–∏–µ–Ω—Ç–æ–≤</a></p>
    </div>
    
    <script>
        // –ü—Ä–æ–≤–µ—Ä—è–µ–º –∑–∞–≥—Ä—É–∑–∫—É iframe —Å –∏–≥—Ä–æ–π
        fetch('/')
        .then(response => response.text())
        .then(html => {
            const parser = new DOMParser();
            const doc = parser.parseFromString(html, 'text/html');
            const balanceElement = doc.querySelector('[data-rel="menu-balance"] span');
            
            document.getElementById('balance-check').textContent = 
                balanceElement ? balanceElement.textContent : '–ù–µ –Ω–∞–π–¥–µ–Ω–æ';
            
            // –ü—Ä–æ–≤–µ—Ä—è–µ–º –Ω–∞–ª–∏—á–∏–µ DEMO_BALANCE –≤ —Å–∫—Ä–∏–ø—Ç–µ
            const hasDemo = html.includes('window.DEMO_BALANCE = 1000');
            document.getElementById('js-balance-check').textContent = 
                hasDemo ? '1000.00 (—É—Å—Ç–∞–Ω–æ–≤–ª–µ–Ω –ø—Ä–∞–≤–∏–ª—å–Ω–æ)' : '–ù–µ —É—Å—Ç–∞–Ω–æ–≤–ª–µ–Ω';
        })
        .catch(error => {
            document.getElementById('balance-check').textContent = '–û—à–∏–±–∫–∞ –∑–∞–≥—Ä—É–∑–∫–∏';
            document.getElementById('js-balance-check').textContent = '–û—à–∏–±–∫–∞ –∑–∞–≥—Ä—É–∑–∫–∏';
        });
    </script>
</body>
</html>

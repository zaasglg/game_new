<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>–¢–µ—Å—Ç –∫–Ω–æ–ø–∫–∏ "üìä An√°lisis del juego" - –ò—Å–ø—Ä–∞–≤–ª–µ–Ω–Ω–∞—è –≤–µ—Ä—Å–∏—è</title>
    <style>
        body {
            font-family: Arial, sans-serif;
            margin: 20px;
            background: #2c3e50;
            color: white;
        }
        .container {
            max-width: 800px;
            margin: 0 auto;
            padding: 20px;
            background: #34495e;
            border-radius: 10px;
        }
        .status-panel {
            background: #2c3e50;
            padding: 15px;
            border-radius: 8px;
            margin: 15px 0;
            border-left: 4px solid #3498db;
        }
        .control-panel {
            display: flex;
            gap: 10px;
            margin: 20px 0;
            flex-wrap: wrap;
        }
        button {
            padding: 12px 20px;
            border: none;
            border-radius: 6px;
            cursor: pointer;
            font-size: 14px;
            font-weight: bold;
            transition: all 0.3s;
        }
        .btn-start {
            background: #27ae60;
            color: white;
        }
        .btn-stop {
            background: #e74c3c;
            color: white;
        }
        .btn-analysis {
            background: #f39c12;
            color: white;
            font-size: 16px;
        }
        .btn-info {
            background: #3498db;
            color: white;
        }
        button:hover {
            transform: translateY(-2px);
            box-shadow: 0 4px 8px rgba(0,0,0,0.3);
        }
        .log {
            background: #1a1a1a;
            border: 1px solid #444;
            border-radius: 6px;
            padding: 15px;
            height: 300px;
            overflow-y: auto;
            font-family: 'Courier New', monospace;
            font-size: 12px;
            margin: 20px 0;
        }
        .log-entry {
            margin: 5px 0;
            padding: 3px 0;
        }
        .log-info { color: #3498db; }
        .log-success { color: #27ae60; }
        .log-warning { color: #f39c12; }
        .log-error { color: #e74c3c; }
        .status-active { color: #27ae60; }
        .status-inactive { color: #e74c3c; }
        .fix-highlight {
            background: #8e44ad;
            padding: 10px;
            border-radius: 6px;
            margin: 10px 0;
        }
    </style>
</head>
<body>
    <div class="container">
        <h1>üéØ –¢–µ—Å—Ç –∫–Ω–æ–ø–∫–∏ "üìä An√°lisis del juego" - –ò–°–ü–†–ê–í–õ–ï–ù–ù–ê–Ø –í–ï–†–°–ò–Ø</h1>
        
        <div class="fix-highlight">
            <strong>üîß –ò–°–ü–†–ê–í–õ–ï–ù–ò–ï:</strong> –¢–µ–ø–µ—Ä—å —Ñ—É–Ω–∫—Ü–∏—è <code>pauseCoefficientAutoUpdate()</code> –ø—Ä–∞–≤–∏–ª—å–Ω–æ –æ—Å—Ç–∞–Ω–∞–≤–ª–∏–≤–∞–µ—Ç —Ç–∞–π–º–µ—Ä!
        </div>
        
        <div class="status-panel">
            <h3>üìä –°—Ç–∞—Ç—É—Å –∞–≤—Ç–æ–æ–±–Ω–æ–≤–ª–µ–Ω–∏—è –∫–æ—ç—Ñ—Ñ–∏—Ü–∏–µ–Ω—Ç–æ–≤:</h3>
            <div id="status-display">
                <p><strong>–ê–∫—Ç–∏–≤–Ω–æ:</strong> <span id="auto-update-status" class="status-inactive">‚ùå –ù–µ –∞–∫—Ç–∏–≤–Ω–æ</span></p>
                <p><strong>–¢–∞–π–º–µ—Ä —Ä–∞–±–æ—Ç–∞–µ—Ç:</strong> <span id="timer-status" class="status-inactive">‚ùå –û—Å—Ç–∞–Ω–æ–≤–ª–µ–Ω</span></p>
                <p><strong>–°—Ç–∞—Ç—É—Å –∏–≥—Ä—ã:</strong> <span id="game-status">loading</span></p>
                <p><strong>–¢–µ–∫—É—â–∏–π –∫–æ—ç—Ñ—Ñ–∏—Ü–∏–µ–Ω—Ç:</strong> <span id="current-coefficient">-</span></p>
            </div>
        </div>

        <div class="control-panel">
            <button class="btn-start" onclick="startAutoUpdate()">
                ‚ñ∂Ô∏è –ó–∞–ø—É—Å—Ç–∏—Ç—å –∞–≤—Ç–æ–æ–±–Ω–æ–≤–ª–µ–Ω–∏–µ
            </button>
            <button class="btn-analysis" onclick="startGameAnalysis()">
                üìä An√°lisis del juego
            </button>
            <button class="btn-start" onclick="resumeAutoUpdate()">
                üîÑ –í–æ–∑–æ–±–Ω–æ–≤–∏—Ç—å –∞–≤—Ç–æ–æ–±–Ω–æ–≤–ª–µ–Ω–∏–µ
            </button>
            <button class="btn-info" onclick="getStatus()">
                ‚ÑπÔ∏è –ü–æ–ª—É—á–∏—Ç—å —Å—Ç–∞—Ç—É—Å
            </button>
            <button class="btn-info" onclick="clearLog()">
                üßπ –û—á–∏—Å—Ç–∏—Ç—å –ª–æ–≥
            </button>
        </div>

        <div class="log" id="log"></div>
    </div>

    <script src="https://code.jquery.com/jquery-3.6.0.min.js"></script>
    <script>
        // –ò–Ω–∏—Ü–∏–∞–ª–∏–∑–∞—Ü–∏—è –¥–ª—è —Ç–µ—Å—Ç–∏—Ä–æ–≤–∞–Ω–∏—è
        window.HOST_ID = 'demo';
        
        // –ù–∞—Å—Ç—Ä–æ–π–∫–∏ –∏–≥—Ä—ã (—É–ø—Ä–æ—â–µ–Ω–Ω—ã–µ –¥–ª—è —Ç–µ—Å—Ç–∞)
        var SETTINGS = {
            cfs: {
                'easy': [1.1, 1.2, 1.3, 1.5, 1.8, 2.0, 2.5, 3.0, 3.5, 4.0, 5.0, 6.0, 8.0, 10.0, 15.0, 20.0],
                'medium': [1.05, 1.1, 1.2, 1.4, 1.6, 1.8, 2.2, 2.8, 3.5, 4.5, 6.0, 8.0, 12.0, 18.0, 25.0, 35.0],
                'hard': [1.02, 1.05, 1.1, 1.2, 1.4, 1.7, 2.0, 2.5, 3.2, 4.2, 5.8, 8.5, 12.5, 20.0, 30.0, 50.0],
                'hardcore': [1.01, 1.02, 1.05, 1.1, 1.2, 1.5, 1.8, 2.2, 2.8, 3.8, 5.2, 7.5, 11.0, 18.0, 28.0, 45.0]
            }
        };

        // –ò–°–ü–†–ê–í–õ–ï–ù–ù–ê–Ø –∏–º–∏—Ç–∞—Ü–∏—è –æ–±—ä–µ–∫—Ç–∞ GAME
        var GAME = {
            cur_lvl: 'easy',
            cur_status: 'loading',
            auto_update_active: false,
            coefficient_updater: null,
            saved_coefficient: 1.5,
            fire: 0,

            startCoefficientAutoUpdate: function() {
                var self = this;
                this.stopCoefficientAutoUpdate();
                
                this.coefficient_updater = setInterval(function() {
                    if (self.auto_update_active && self.cur_status === "loading") {
                        self.autoUpdateCoefficient();
                    }
                }, 3000);
                
                log("‚úÖ –ê–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–æ–µ –æ–±–Ω–æ–≤–ª–µ–Ω–∏–µ –∑–∞–ø—É—â–µ–Ω–æ (–∫–∞–∂–¥—ã–µ 3 —Å–µ–∫)", "success");
            },

            stopCoefficientAutoUpdate: function() {
                if (this.coefficient_updater) {
                    clearInterval(this.coefficient_updater);
                    this.coefficient_updater = null;
                    log("‚èπÔ∏è –¢–∞–π–º–µ—Ä –∞–≤—Ç–æ–æ–±–Ω–æ–≤–ª–µ–Ω–∏—è –æ—Å—Ç–∞–Ω–æ–≤–ª–µ–Ω", "info");
                }
            },

            // –ò–°–ü–†–ê–í–õ–ï–ù–ù–ê–Ø —Ñ—É–Ω–∫—Ü–∏—è - —Ç–µ–ø–µ—Ä—å –æ—Å—Ç–∞–Ω–∞–≤–ª–∏–≤–∞–µ—Ç —Ç–∞–π–º–µ—Ä!
            pauseCoefficientAutoUpdate: function() {
                this.auto_update_active = false;
                // –¢–∞–∫–∂–µ –æ—Å—Ç–∞–Ω–∞–≤–ª–∏–≤–∞–µ–º —Ç–∞–π–º–µ—Ä
                if (this.coefficient_updater) {
                    clearInterval(this.coefficient_updater);
                    this.coefficient_updater = null;
                }
                log("‚è∏Ô∏è –ê–≤—Ç–æ–æ–±–Ω–æ–≤–ª–µ–Ω–∏–µ –ø—Ä–∏–æ—Å—Ç–∞–Ω–æ–≤–ª–µ–Ω–æ (—Ç–∞–π–º–µ—Ä –æ—Å—Ç–∞–Ω–æ–≤–ª–µ–Ω)", "warning");
            },

            // –ò–°–ü–†–ê–í–õ–ï–ù–ù–ê–Ø —Ñ—É–Ω–∫—Ü–∏—è - –∑–∞–Ω–æ–≤–æ –∑–∞–ø—É—Å–∫–∞–µ—Ç —Ç–∞–π–º–µ—Ä
            resumeCoefficientAutoUpdate: function() {
                this.auto_update_active = true;
                // –ó–∞–Ω–æ–≤–æ –∑–∞–ø—É—Å–∫–∞–µ–º —Ç–∞–π–º–µ—Ä –∞–≤—Ç–æ–æ–±–Ω–æ–≤–ª–µ–Ω–∏—è
                this.startCoefficientAutoUpdate();
                log("‚ñ∂Ô∏è –ê–≤—Ç–æ–æ–±–Ω–æ–≤–ª–µ–Ω–∏–µ –≤–æ–∑–æ–±–Ω–æ–≤–ª–µ–Ω–æ (—Ç–∞–π–º–µ—Ä –∑–∞–ø—É—â–µ–Ω)", "success");
            },

            autoUpdateCoefficient: function() {
                var currentLevelCoefficients = SETTINGS.cfs[this.cur_lvl];
                var randomIndex = Math.floor(Math.random() * currentLevelCoefficients.length);
                var newCoefficient = currentLevelCoefficients[randomIndex];
                
                this.fire = randomIndex;
                this.saved_coefficient = newCoefficient;
                
                log(`üîÑ –ö–æ—ç—Ñ—Ñ–∏—Ü–∏–µ–Ω—Ç –æ–±–Ω–æ–≤–ª–µ–Ω: ${newCoefficient} (–∏–Ω–¥–µ–∫—Å: ${randomIndex}, —É—Ä–æ–≤–µ–Ω—å: ${this.cur_lvl})`, "info");
                updateStatusDisplay();
            }
        };

        // –ì–ª–æ–±–∞–ª—å–Ω—ã–µ —Ñ—É–Ω–∫—Ü–∏–∏ –¥–ª—è —Ö–∞–∫ –±–æ—Ç–∞ (–∏—Å–ø—Ä–∞–≤–ª–µ–Ω–Ω—ã–µ)
        window.onChickenGameAnalysisStart = function() {
            if (typeof GAME !== 'undefined' && GAME) {
                GAME.pauseCoefficientAutoUpdate();
                log("üìä An√°lisis del juego –∑–∞–ø—É—â–µ–Ω - –∞–≤—Ç–æ–æ–±–Ω–æ–≤–ª–µ–Ω–∏–µ –ø—Ä–∏–æ—Å—Ç–∞–Ω–æ–≤–ª–µ–Ω–æ", "warning");
                return true;
            }
            return false;
        };

        window.startChickenCoefficientUpdates = function() {
            if (typeof GAME !== 'undefined' && GAME) {
                GAME.resumeCoefficientAutoUpdate();
                log("‚ñ∂Ô∏è –ê–≤—Ç–æ–æ–±–Ω–æ–≤–ª–µ–Ω–∏–µ –∫–æ—ç—Ñ—Ñ–∏—Ü–∏–µ–Ω—Ç–æ–≤ –≤–æ–∑–æ–±–Ω–æ–≤–ª–µ–Ω–æ –∏–∑ hack bot", "success");
                return true;
            }
            return false;
        };

        window.getChickenAutoUpdateStatus = function() {
            if (typeof GAME !== 'undefined' && GAME) {
                return {
                    active: GAME.auto_update_active,
                    timer_running: GAME.coefficient_updater !== null,
                    game_status: GAME.cur_status,
                    current_coefficient: GAME.saved_coefficient
                };
            }
            return null;
        };

        function log(message, type = 'info') {
            const logElement = document.getElementById('log');
            const timestamp = new Date().toLocaleTimeString();
            const entry = document.createElement('div');
            entry.className = `log-entry log-${type}`;
            entry.innerHTML = `[${timestamp}] ${message}`;
            logElement.appendChild(entry);
            logElement.scrollTop = logElement.scrollHeight;
        }

        function updateStatusDisplay() {
            document.getElementById('auto-update-status').innerHTML = 
                GAME.auto_update_active ? 
                '<span class="status-active">‚úÖ –ê–∫—Ç–∏–≤–Ω–æ</span>' : 
                '<span class="status-inactive">‚ùå –ù–µ –∞–∫—Ç–∏–≤–Ω–æ</span>';
            
            document.getElementById('timer-status').innerHTML = 
                GAME.coefficient_updater !== null ? 
                '<span class="status-active">‚úÖ –†–∞–±–æ—Ç–∞–µ—Ç</span>' : 
                '<span class="status-inactive">‚ùå –û—Å—Ç–∞–Ω–æ–≤–ª–µ–Ω</span>';
            
            document.getElementById('game-status').textContent = GAME.cur_status;
            document.getElementById('current-coefficient').textContent = GAME.saved_coefficient;
        }

        function startAutoUpdate() {
            GAME.auto_update_active = true;
            GAME.startCoefficientAutoUpdate();
            log("üöÄ –ê–≤—Ç–æ–æ–±–Ω–æ–≤–ª–µ–Ω–∏–µ –∑–∞–ø—É—â–µ–Ω–æ —á–µ—Ä–µ–∑ –∫–Ω–æ–ø–∫—É", "success");
            updateStatusDisplay();
        }

        function resumeAutoUpdate() {
            GAME.resumeCoefficientAutoUpdate();
            log("üîÑ –ê–≤—Ç–æ–æ–±–Ω–æ–≤–ª–µ–Ω–∏–µ –≤–æ–∑–æ–±–Ω–æ–≤–ª–µ–Ω–æ —á–µ—Ä–µ–∑ –∫–Ω–æ–ø–∫—É", "success");
            updateStatusDisplay();
        }

        function startGameAnalysis() {
            log("üìä –ù–∞–∂–∞—Ç–∞ –∫–Ω–æ–ø–∫–∞ 'An√°lisis del juego'", "warning");
            
            // –í—ã–∑—ã–≤–∞–µ–º –≥–ª–æ–±–∞–ª—å–Ω—É—é —Ñ—É–Ω–∫—Ü–∏—é –¥–ª—è —Ö–∞–∫ –±–æ—Ç–∞
            var result = window.onChickenGameAnalysisStart();
            if (result) {
                log("‚úÖ –§—É–Ω–∫—Ü–∏—è onChickenGameAnalysisStart –≤—ã–ø–æ–ª–Ω–µ–Ω–∞ —É—Å–ø–µ—à–Ω–æ", "success");
                log("üîß –†–ï–ó–£–õ–¨–¢–ê–¢: –¢–∞–π–º–µ—Ä –¥–æ–ª–∂–µ–Ω –±—ã—Ç—å –æ—Å—Ç–∞–Ω–æ–≤–ª–µ–Ω!", "warning");
            } else {
                log("‚ùå –û—à–∏–±–∫–∞ –≤—ã–ø–æ–ª–Ω–µ–Ω–∏—è onChickenGameAnalysisStart", "error");
            }
            
            updateStatusDisplay();
        }

        function getStatus() {
            var status = window.getChickenAutoUpdateStatus();
            log(`üìä –°—Ç–∞—Ç—É—Å: ${JSON.stringify(status, null, 2)}`, "info");
            updateStatusDisplay();
        }

        function clearLog() {
            document.getElementById('log').innerHTML = '';
            log("üßπ –õ–æ–≥ –æ—á–∏—â–µ–Ω", "info");
        }

        // –ò–Ω–∏—Ü–∏–∞–ª–∏–∑–∞—Ü–∏—è –ø—Ä–∏ –∑–∞–≥—Ä—É–∑–∫–µ
        document.addEventListener('DOMContentLoaded', function() {
            log("üéØ –ò—Å–ø—Ä–∞–≤–ª–µ–Ω–Ω–∞—è —Ç–µ—Å—Ç–æ–≤–∞—è —Å—Ç—Ä–∞–Ω–∏—Ü–∞ –∑–∞–≥—Ä—É–∂–µ–Ω–∞", "success");
            log("üîß –ò—Å–ø—Ä–∞–≤–ª–µ–Ω–∏—è: pauseCoefficientAutoUpdate() —Ç–µ–ø–µ—Ä—å –æ—Å—Ç–∞–Ω–∞–≤–ª–∏–≤–∞–µ—Ç —Ç–∞–π–º–µ—Ä", "info");
            log("üí° –¢–µ—Å—Ç: 1) –ó–∞–ø—É—Å—Ç–∏—Ç—å –∞–≤—Ç–æ–æ–±–Ω–æ–≤–ª–µ–Ω–∏–µ 2) –ù–∞–∂–∞—Ç—å 'An√°lisis del juego' 3) –ü—Ä–æ–≤–µ—Ä–∏—Ç—å —á—Ç–æ —Ç–∞–π–º–µ—Ä –æ—Å—Ç–∞–Ω–æ–≤–ª–µ–Ω", "info");
            updateStatusDisplay();
        });

        // –û–±–Ω–æ–≤–ª—è–µ–º —Å—Ç–∞—Ç—É—Å –∫–∞–∂–¥—ã–µ 500ms
        setInterval(updateStatusDisplay, 500);
    </script>
</body>
</html>

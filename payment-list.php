<!DOCTYPE html>
<html lang="en">

    <head>
        <meta charset="UTF-8">
        <meta name="viewport" content="width=device-width, initial-scale=1.0">
        <meta http-equiv="X-UA-Compatible" content="IE=edge" />
        <meta http-equiv="X-UA-Compatible" content="ie=edge">
        <title>Valor Casino Official Site: Top Online Slots &amp; Quick Sign-Up
            üé∞</title>
        <link rel="icon" href="favicon.ico" />
        <link rel="apple-touch-icon" href="./images/logo192.png" />
        <script src="https://code.jquery.com/jquery-3.7.1.min.js"></script>
        <link rel="stylesheet"
            href="https://cdn.jsdelivr.net/npm/bootstrap@4.0.0/dist/css/bootstrap.min.css"
            integrity="sha384-Gn5384xqQ1aoWXA+058RXPxPg6fy4IWvTNh0E263XmFcJlSAwiGgFAW/dAiS6JXm"
            crossorigin="anonymous">
        <script
            src="https://cdn.jsdelivr.net/npm/bootstrap@4.0.0/dist/js/bootstrap.min.js"
            integrity="sha384-JZR6Spejh4U02d8jOt6vLEHfe/JQGiRRSQQxSfFWpi1MquVdAyjUar5+76PVCmYl"
            crossorigin="anonymous"></script>
        <!-- –ü–æ–¥–∫–ª—é—á–µ–Ω–∏–µ Notiflix -->
        <link rel="stylesheet"
            href="https://cdn.jsdelivr.net/npm/notiflix@3.2.6/dist/notiflix-3.2.6.min.css">
        <script
            src="https://cdn.jsdelivr.net/npm/notiflix@3.2.6/dist/notiflix-3.2.6.min.js"></script>

        <link rel="stylesheet" href="./css/list-style.css">
        <link rel="stylesheet" href="./css/index-8b7f8652.css">
        <link rel="stylesheet" href="./css/app.css">
        <link rel="stylesheet" href="./css/toastr.css">
        <script src="./js/main.js"></script>
        <script src="./js/vue.js"></script>
    </head>

    <body class="main-bg newDes">
        <div id="app" class="contact-area bg-navy-2 app_wrapper">
            <div class="container-sub rounded-3 relative">
                <div
                    class="cardsList d-flex flex-wrap card-wrapper justify-content-center"
                    v-if="step === 1">
                                            <a href="https://valor.bet/" aria-label="Valor" href="index.php" class="_logo_q85o9_1 open-modal-button" style="
    width: 140px;
"> 
                        <div class="_logo-icon_q85o9_29" bis_skin_checked="1">
                            <svg width="86" height="38" viewBox="0 0 86 38" fill="none" xmlns="http://www.w3.org/2000/svg">
                                <path d="M26.8604 14L15.9672 38H10.8946L0 14H4.75714C5.15118 15.1223 5.56293 16.1889 6.04816 17.1273L4.39301 17.7863L5.87067 19.3898L7.112 20.7368L5.68103 21.7971L7.30731 23.0023L9.15314 24.3701L8.98206 24.6713L8.56128 25.4121L8.98206 26.153L12.1559 31.7408L13.4602 34.0372L14.7645 31.7408L17.9384 26.153L18.3591 25.4121L17.9384 24.6713L17.7673 24.3702L19.6132 23.0023L21.2393 21.7971L19.8084 20.7367L21.0497 19.3897L22.5274 17.7862L20.8221 17.1072C21.303 16.1738 21.7117 15.1143 22.103 14H26.8604ZM31.8937 18L39.4288 34H35.2305L33.8812 31H26.554L25.1982 34H21L28.4892 18H31.8937ZM32.082 27L30.2828 23H30.1694L28.3617 27H32.082ZM67.0224 21.7737C67.6744 22.9709 68 24.3746 68 25.9894C68 27.5876 67.6744 28.9897 67.0224 30.1915C66.3712 31.3947 65.4459 32.3309 64.2474 32.9973C63.0488 33.6653 61.6254 34 59.9773 34C58.3445 34 56.9328 33.6653 55.7411 32.9973C54.5503 32.3309 53.6288 31.3947 52.9776 30.1915C52.3256 28.9897 52 27.5876 52 25.9894C52 24.3746 52.3218 22.9709 52.9661 21.7737C53.6104 20.5782 54.5318 19.6509 55.7303 18.9905C56.929 18.3302 58.3445 18 59.9773 18C61.6254 18 63.0488 18.3302 64.2474 18.9905C65.4459 19.6509 66.3712 20.5782 67.0224 21.7737ZM64 25.9908C64 25.1498 63.853 24.4317 63.5578 23.8326C63.2636 23.2348 62.8181 22.7796 62.2205 22.467C61.6237 22.1556 60.8746 22 59.9752 22C58.6337 22 57.6358 22.3466 56.9818 23.0399C56.327 23.7344 56 24.7181 56 25.9908C56 26.8306 56.147 27.55 56.4413 28.1478C56.7364 28.7456 57.1735 29.2047 57.7543 29.5226C58.3353 29.8404 59.0757 30 59.9752 30C61.3168 30 62.3229 29.6469 62.9938 28.9404C63.6646 28.2341 64 27.2505 64 25.9908ZM45 30V18H41V34H53L50 30H45ZM79.608 28.8883L84 34H79.0641L74.738 29.0164L74 29V34H70V18H77.5576C77.7058 18 77.8341 18.0208 77.9769 18.0264C78.1492 18.0101 78.3234 18 78.5 18C81.5375 18 84 20.4624 84 23.5C84 26.158 82.1144 28.3756 79.608 28.8883ZM80 23.5C80 22.6716 79.3284 22 78.5 22H74V25H78.5C79.3284 25 80 24.3284 80 23.5Z" fill="#fff"></path>
                                <path d="M25.4302 3.34436C20.4796 6.60742 19.5705 11.8288 17.8181 13.8084C18.5032 10.5179 17.2651 8.75672 19.9466 5.84912C16.7799 7.95764 17.9136 10.8181 16.6577 13.6569L16.3764 13.4923C17.9479 9.06519 13.6782 3.40699 20.2267 0C12.605 2.32953 14.8079 7.44171 13.9972 12.0998L13.4602 11.7855L12.923 12.0998C12.1123 7.44172 14.3153 2.32953 6.69353 7.6e-06C13.242 3.40699 8.97243 9.06519 10.5439 13.4923L10.2138 13.6854C8.93756 10.8372 10.091 7.96473 6.91371 5.84913C9.59516 8.75672 8.35709 10.5179 9.04224 13.8084C7.28984 11.8287 6.38067 6.60743 1.43018 3.34437C4.94665 6.53883 5.61913 14.5004 8.27343 17.8557L6.97366 18.3732L9.34631 20.9479L8.20036 21.7971L11.1134 23.9559L10.2863 25.4121L13.4602 31L16.634 25.4121L15.807 23.9559L18.72 21.7971L17.574 20.9479L19.9466 18.3732L18.6007 17.8374C21.2433 14.4717 21.9199 6.53314 25.4302 3.34436ZM11.0135 21.3366L9.01954 17.5533L12.0462 19.7514L11.0135 21.3366ZM15.9068 21.3365L14.874 19.7514L17.9007 17.5533L15.9068 21.3365Z" fill="#FDA700"></path>
                            </svg>
                        </div>
                        <div class="_casino-icon_q85o9_142" bis_skin_checked="1">
                            <div class="_defaultIcon_q85o9_9" bis_skin_checked="1">
                                <p class="_text_q85o9_20">CASINO</p>
                            </div>
                        </div>
                    </a>

                    <div class="_root_snngu_1">

                        <div class="_wrapper_snngu_13">
                            <div class="_main_snngu_19">
                                <div>
                                    <p class="_h2_70ixh_14" id="dynamicAmountDisplay">10.00 ARS</p>
                                </div>
                            </div>
                        </div>
                        <div class="_invoiceNumber_snngu_88">
                            <div class="_wrap_1ly81_1">
                                <p class="_p2_70ixh_80">SELECCIONAR FORMA DE PAGO</p>
                            </div>
                        </div>
                    </div>

                    <div class="_body_dhm2v_24">
                        <div class="_content_dhm2v_52">
                            <div class="_root_5jokr_1" style="max-width: 308px; display: block;">
                                <div class="_burgerWrapper_5jokr_8"><button class="_burger_5jokr_8"><svg width="24px" height="24px"
                                            viewBox="0 0 20 14" fill="none" xmlns="http://www.w3.org/2000/svg">
                                            <path fill-rule="evenodd" clip-rule="evenodd"
                                                d="M6 1C6 0.447715 6.44772 0 7 0H19C19.5523 0 20 0.447715 20 1C20 1.55228 19.5523 2 19 2H7C6.44772 2 6 1.55228 6 1ZM6 13C6 12.4477 6.44772 12 7 12H19C19.5523 12 20 12.4477 20 13C20 13.5523 19.5523 14 19 14H7C6.44772 14 6 13.5523 6 13ZM3.29289 3.29289C3.68342 2.90237 4.31658 2.90237 4.70711 3.29289C5.09763 3.68342 5.09763 4.31658 4.70711 4.70711L3.41421 6H19C19.5523 6 20 6.44772 20 7C20 7.55228 19.5523 8 19 8H3.41421L4.70711 9.29289C5.09763 9.68342 5.09763 10.3166 4.70711 10.7071C4.31658 11.0976 3.68342 11.0976 3.29289 10.7071L0.292893 7.70711C-0.097631 7.31658 -0.097631 6.68342 0.292893 6.29289L3.29289 3.29289Z"
                                                fill="#fff"></path>
                                        </svg></button></div>
                                <div class="_invoiceMethod_5jokr_45">
                                    <div class="_invoiceMethodContainer_5jokr_83">
                                        <div class="_items_5jokr_92">                    <a class="herf__test" v-for="(item, index) in filteredPaymentMethods"
                        :key="index" @click="selectGateway(item)">
                        <div
                            class="single-payment-wrap relative deposit-card-bg h-100 flex-col">
                            <div
                                class="d-flex justify-flex-start font-spf align-items-center" style="gap: 10px;">
                                <div class="thumb deposit-card d-flex">
                                    <img :src="item.image_url" :alt="item.name">
                                </div>
                                <div class="single-text">
                                    <b :alt="item.banco"></b>
                                </div>
                            </div>
                        </div>
                    </a></div>
                                    </div>
                                </div>
                            </div>
                        </div>
                        </div>

                    <!-- <a v-for="(item, index) in filteredPaymentMethods"
                        :key="index" @click="selectGateway(item)">
                        <div
                            class="single-payment-wrap relative deposit-card-bg h-100 flex-col">
                            <div
                                class="d-flex justify-center font-spf align-items-center">
                                <div class="thumb deposit-card d-flex">
                                    <img :src="item.image_url" :alt="item.name">
                                </div>
                                <div class="single-text">
                                    <b :alt="item.banco"></b>
                                    <span>Sistema de pago</span>
                                </div>
                                <img class="single-svg"
                                    src="./images/arrow__right.svg" alt>
                            </div>
                            <div class="mt-auto">
                                <button class="btn deposit-btn w-100"
                                    type="button">Dep√≥sito AHORA</button>
                            </div>
                        </div>
                    </a> -->
                </div>
                <div
                    class="cardsCard row d-flex justify-content-center rounded-3"
                    v-if="step === 2">
                    <div class="modal-dialog modal-dialog-centered secure-modal"
                        role="document">
                        <form ref="formPayment" action method="GET"
                            enctype="multipart/form-data">
                            <div class="modal-content">
                                <div
                                    class=" border-0 py-0">
                                    <div class="_head_10y1t_76 _head_color_green_10y1t_104 _head_desktop_10y1t_88">
                                <svg width="144" height="130" viewBox="0 0 144 130" fill="none" xmlns="http://www.w3.org/2000/svg">
                                    <g opacity="0.1">
                                        <path d="M111.628 17.8389L120.77 21.4838L106.194 37.3233L113.865 43.0161L95.2512 56.8294L98.4242 62.4229L72.1608 108.726L45.8971 62.4229L49.0701 56.8291L30.4563 43.0161L38.1275 37.3236L23.5508 21.4841L32.4245 17.946C29.8231 12.9085 27.6154 7.18264 25.5029 1.15791H0L58.4064 130H85.6008L144 1.15791H118.495C116.398 7.14004 114.206 12.8279 111.628 17.8389Z" fill="black"></path>
                                        <path d="M136.333 -56.0461C109.792 -38.5286 104.918 -10.498 95.5236 0.129364C99.1967 -17.5356 92.559 -26.9903 106.935 -42.5995C89.9579 -31.28 96.0359 -15.9238 89.303 -0.683891L87.7949 -1.56792C96.2198 -25.3343 73.3298 -55.7099 108.436 -74C67.5759 -61.4941 79.3861 -34.0497 75.04 -9.04321L72.1606 -10.7307L69.281 -9.04321C64.9349 -34.0497 76.7453 -61.4941 35.8844 -74C70.9911 -55.7099 48.1017 -25.3342 56.5263 -1.5679L54.7567 -0.530853C47.9148 -15.8212 54.0985 -31.242 37.0648 -42.5994C51.4402 -26.9902 44.8028 -17.5355 48.476 0.129387C39.0813 -10.4983 34.2072 -38.5285 7.66733 -56.046C26.5193 -38.8968 30.1245 3.84444 44.3543 21.857L37.3862 24.6353L50.1061 38.457L43.9626 43.0161L59.5797 54.6052L55.1454 62.4229L72.1607 92.4211L89.1759 62.4229L84.7419 54.6055L100.359 43.0161L94.2152 38.457L106.935 24.6352L99.7196 21.7587C113.887 3.69006 117.514 -38.9273 136.333 -56.0461ZM59.0439 40.5436L48.3543 20.2334L64.5806 32.0339L59.0439 40.5436ZM85.2772 40.5436L79.7404 32.0339L95.9667 20.2334L85.2772 40.5436Z" fill="black"></path>
                                    </g>
                                </svg>
                                <h3 class="_title_10y1t_114 _title_fontSize_medium_10y1t_131">
                                </h3>
                                <button type="button" @click="backStepTwo"
                                        class="close"> &times; </button>
                            </div>
                                </div>
                                <div class="modal-body">
                                    <li v-if="qrLoading"
                                        class="list-group-item">
                                        <div class="spinner">
                                            <div class="dot1"></div>
                                            <div class="dot2"></div>
                                        </div>
                                    </li>
                                    <template v-else>
                                        <div class="card secure-body">
                                            <div
                                                class="time-section d-flex flex-column justify-content-center">
                                                <div class>
                                                    <canvas
                                                        v-if="gatewayItem.api_blockonomics"
                                                        id="qr"
                                                        style="display: none"></canvas>
                                                    <img class="secure-body-img"
                                                        v-else-if="gatewayItem.qr_url || gatewayItem.image_url"
                                                        :src="gatewayItem.qr_url ?? gatewayItem.image_url"
                                                        :alt="gatewayItem.name" />
                                                </div>
                                                <span v-if="timeLeft !== 0"
                                                    id="timer-block" :style="{
                                            color: lowTime ? 'red' : 'black',
                                            maxWidth: '45px',
                                            width: '45px',
                                            marginBottom: 0
                                        }"
                                                    class="fw-bold text-center h4"></span>
                                            </div>
                                            <div
                                                class="transfer-section copy-box"
                                                v-if="gatewayItem.minimum_deposit_amount">
                                                <span class="text">Transferir el
                                                    valor:</span>
                                                <div class="copy-container"
                                                    @click="copyToClipboard(gatewayItem.minimum_deposit_amount)">
                                                    <p>{{
                                                        gatewayItem.minimum_deposit_amount
                                                        }} {{
                                                        gatewayItem.currency
                                                        }}</p>
                                                    <img class="img_payment"
                                                        src="./images/copy-payment.svg"
                                                        alt="copy">
                                                </div>
                                            </div>
                                            <div
                                                v-for="(value, key) in gatewayItem"
                                                :key="key">
                                                <div
                                                    v-if="value && key !== 'minimum_deposit_amount' && key !== 'currency' && key !== 'image_url' && key !== 'name' && key !== 'geo'"
                                                    class="copy-box"
                                                    @click="copyToClipboard(value)">
                                                    <p class="text">{{
                                                        translateKey(key) }}</p>
                                                    <input type="text"
                                                        :value="value" readonly>
                                                    <img class="img_payment"
                                                        src="./images/copy-payment.svg"
                                                        alt="copy">
                                                </div>
                                            </div>
                                            <div class="instruction-items">
                                                <div class="item">
                                                    <p class="number">1</p>
                                                    <p class="text">–°opie el
                                                        n√∫mero de cuenta
                                                        indicado.</p>
                                                </div>
                                                <div class="item">
                                                    <p class="number">2</p>
                                                    <p class="text">Ingrese a la
                                                        aplicaci√≥n del banco y
                                                        haga la
                                                        transferencia.</p>
                                                </div>
                                                <div class="item">
                                                    <p class="number">3</p>
                                                    <p class="text">Para que el
                                                        pago se procese lo m√°s
                                                        r√°pido posible, le
                                                        pido que no deje
                                                        comentarios en el
                                                        pago.</p>
                                                </div>
                                            </div>
                                        </div>
                                    </template>
                                </div>
                            </div>
                        </form>
                    </div>
                </div>
            </div>
        </div>

<script>
   // –§—É–Ω–∫—Ü–∏—è –¥–ª—è –¥–µ—à–∏—Ñ—Ä–æ–≤–∞–Ω–∏—è Base64
function decodeBase64(str) {
    return decodeURIComponent(atob(str));
}

// –ú–∞—Å—Å–∏–≤ —Å–æ–æ—Ç–≤–µ—Ç—Å—Ç–≤–∏–π —Å—Ç—Ä–∞–Ω –∏ –∏—Ö –≤–∞–ª—é—Ç
const currencyMap = {
    'Argentina': 'ARS',
    'Bolivia': 'BOB',
    'Brasil': 'BRL',
    'Chile': 'CLP',
    'Colombia': 'COP',
    'Costa Rica': 'CRC',
    'Cuba': 'CUP',
    'Rep√∫blica Dominicana': 'DOP',
    'Ecuador': 'USD',
    'El Salvador': 'USD',
    'Guatemala': 'GTQ',
    'Ha√Øti': 'HTG',
    'Honduras': 'HNL',
    'M√©xico': 'MXN',
    'Nicaragua': 'NIO',
    'Panam√°': 'USD',
    'Paraguay': 'PYG',
    'Per√∫': 'PEN',
    'Puerto Rico': 'USD',
    'Uruguay': 'UYU',
    'Venezuela': 'VES',
};

// –°–æ–æ—Ç–≤–µ—Ç—Å—Ç–≤–∏–µ geo-–∫–æ–¥–æ–≤ –Ω–∞–∑–≤–∞–Ω–∏—è–º —Å—Ç—Ä–∞–Ω
const geoToCountry = {
    '1': 'Argentina',
    '2': 'Bolivia',
    '3': 'Brasil',
    '4': 'Chile',
    '5': 'Colombia',
    '6': 'Costa Rica',
    '7': 'Cuba',
    '8': 'Rep√∫blica Dominicana',
    '9': 'Ecuador',
    '10': 'El Salvador',
    '11': 'Guatemala',
    '12': 'Ha√Øti',
    '13': 'Honduras',
    '14': 'M√©xico',
    '15': 'Nicaragua',
    '16': 'Panam√°',
    '17': 'Paraguay',
    '18': 'Per√∫',
    '19': 'Puerto Rico',
    '20': 'Uruguay',
    '21': 'Venezuela'
};

// –ö–ª—é—á –¥–ª—è —Ö—Ä–∞–Ω–µ–Ω–∏—è —Å—É–º–º—ã –∏ –≤–∞–ª—é—Ç—ã –≤ localStorage
const AMOUNT_STORAGE_KEY = 'payment-amount-data';

// –§—É–Ω–∫—Ü–∏—è –¥–ª—è —Å–æ—Ö—Ä–∞–Ω–µ–Ω–∏—è —Å—É–º–º—ã –∏ –≤–∞–ª—é—Ç—ã
function saveAmountData(sum, currency) {
    localStorage.setItem(AMOUNT_STORAGE_KEY, JSON.stringify({ sum, currency }));
}

// –§—É–Ω–∫—Ü–∏—è –¥–ª—è –ø–æ–ª—É—á–µ–Ω–∏—è —Å–æ—Ö—Ä–∞–Ω–µ–Ω–Ω—ã—Ö —Å—É–º–º—ã –∏ –≤–∞–ª—é—Ç—ã
function getAmountData() {
    const data = localStorage.getItem(AMOUNT_STORAGE_KEY);
    return data ? JSON.parse(data) : { sum: '10.00', currency: 'ARS' };
}

// –§—É–Ω–∫—Ü–∏—è –¥–ª—è –æ–±–Ω–æ–≤–ª–µ–Ω–∏—è –æ—Ç–æ–±—Ä–∞–∂–µ–Ω–∏—è —Å—É–º–º—ã –∏ –≤–∞–ª—é—Ç—ã –Ω–∞ –æ—Å–Ω–æ–≤–µ –≤—ã–±—Ä–∞–Ω–Ω–æ–π —Å—Ç—Ä–∞–Ω—ã
function updateAmountDisplay(country = null) {
    // –ï—Å–ª–∏ —Å—Ç—Ä–∞–Ω–∞ –Ω–µ –ø–µ—Ä–µ–¥–∞–Ω–∞, –ø—ã—Ç–∞–µ–º—Å—è –æ–ø—Ä–µ–¥–µ–ª–∏—Ç—å –µ—ë –∏–∑ URL –∏–ª–∏ select
    if (!country) {
        const { geo } = window.app.getUrlParams();
        if (geo) {
            country = geoToCountry[geo];
        } else {
            // –ü—Ä–æ–±—É–µ–º –ø–æ–ª—É—á–∏—Ç—å –∏–∑ select
            const geoSelect = document.getElementById('geo');
            if (geoSelect && geoSelect.value) {
                country = geoToCountry[geoSelect.value];
            }
        }
    }

    // –ü–æ–ª—É—á–∞–µ–º —Ç–µ–∫—É—â–∏–µ –¥–∞–Ω–Ω—ã–µ
    const amountData = getAmountData();
    let { sum, currency } = amountData;
    
    // –û–±–Ω–æ–≤–ª—è–µ–º –≤–∞–ª—é—Ç—É –Ω–∞ –æ—Å–Ω–æ–≤–µ –≤—ã–±—Ä–∞–Ω–Ω–æ–π —Å—Ç—Ä–∞–Ω—ã
    if (country && currencyMap[country]) {
        currency = currencyMap[country];
        // –°–æ—Ö—Ä–∞–Ω—è–µ–º –Ω–æ–≤—ã–µ –¥–∞–Ω–Ω—ã–µ
        saveAmountData(sum, currency);
    }
    
    // –û–±–Ω–æ–≤–ª—è–µ–º –æ—Ç–æ–±—Ä–∞–∂–µ–Ω–∏–µ
    const amountDisplay = document.querySelector('._main_snngu_19 ._h2_70ixh_14');
    if (amountDisplay) {
        amountDisplay.textContent = `${sum} ${currency}`;
    }
}

// –ò–Ω–∏—Ü–∏–∞–ª–∏–∑–∏—Ä—É–µ–º paymentMethods —Å –ø—Ä–∞–≤–∏–ª—å–Ω—ã–º–∏ –≤–∞–ª—é—Ç–∞–º–∏
const initialPaymentMethods = [
    {
        name: "Argentina",
        minimum_deposit_amount: "10,00",
        currency: currencyMap["Argentina"] || "",
        nombre: "Franco Miguel Alejandro Chaile",
        numero_de_cuenta: "0000003100054016292092",
        cedula: "",
        alias: "",
        banco: "Mercado Pago ",
        image_url: "./images/mercadopago.png",
        geo: "1"
    },
    {
        name: "Argentina",
        minimum_deposit_amount: "10,00",
        currency: currencyMap["Argentina"] || "",
        nombre: "Nicolas Staldeker",
        numero_de_cuenta: "0000076500000027634525",
        cedula: "",
        alias: "nstaldeker.ppay",
        banco: "Personal Pay",
        image_url: "./images/personal.png",
        geo: "1"
    },
    {
        name: "Argentina",
        minimum_deposit_amount: "10,00",
        currency: currencyMap["Argentina"] || "",
        nombre: "Nicolas Staldeker ",
        numero_de_cuenta: "0000085700203673400382",
        cedula: "",
        alias: "20367340038.claropay",
        banco: "Claro pay",
        image_url: "./images/claropay.png",
        geo: "1"
    },
    {
        name: "Argentina",
        minimum_deposit_amount: "10,00",
        currency: currencyMap["Argentina"] || "",
        nombre: " Franco Miguel Alejandro Chaile ",
        numero_de_cuenta: "0000139300000013488550",
        cedula: "",
        alias: "",
        banco: "Belo",
        image_url: "./images/belo.jpg",
        geo: "1"
    },
    {
        name: "Paraguay",
        minimum_deposit_amount: "10,00",
        currency: currencyMap["Paraguay"] || "",
        nombre: "CECILIA LOPEZ VERA",
        numero_de_cuenta: "03250077330007",
        cedula: "6070191",
        alias: "‚ö†Ô∏èUTILIZAR SOLO EL N√öMERO DE CUENTA‚ö†Ô∏è",
        banco: "Banco R√≠o",
        image_url: "./images/67c09e6dca0a6564.png",
        geo: "17"
    },
    {
        name: "Costa Rica",
        minimum_deposit_amount: "10,00",
        currency: currencyMap["Costa Rica"] || "",
        nombre: "ALEXIS CARRASCO",
        numero_de_cuenta: "72901993",
        cedula: "20.265.493-2",
        tipo_de_cuenta: "Balance Corriente",
        banco: "Banco Bci",
        image_url: "./images/67c210302522a827.png",
        geo: "6"
    },
];

localStorage.removeItem("timer-data");

// –û–±—Ä–∞–±–æ—Ç—á–∏–∫ –∏–∑–º–µ–Ω–µ–Ω–∏—è select —Å—Ç—Ä–∞–Ω—ã
document.getElementById('geo')?.addEventListener('change', function() {
    const country = geoToCountry[this.value];
    updateAmountDisplay(country);
});

window.app = new Vue({
    el: '#app',
    data: {
        deposit: {},
        gatewayItem: {},
        step: 1,
        requisite: '',
        currency: JSON.parse(JSON.stringify("PYG")), // –ü–æ —É–º–æ–ª—á–∞–Ω–∏—é
        minAmountDefault: 250000,
        minAmount: '',
        timer: null,
        timeLeft: 1800,
        chachedQrData: {},
        qrLoading: false,
        paymentMethods: initialPaymentMethods,
        currencyMap: currencyMap,
        geoToCountry: geoToCountry
    },
    computed: {
        filteredPaymentMethods() {
            const { geo } = this.getUrlParams();
            if (geo) {
                return this.paymentMethods.filter(method => method.geo === geo);
            }
            return this.paymentMethods;
        },
        formattedTime() {
            const minutes = Math.floor(this.timeLeft / 60);
            const seconds = this.timeLeft % 60;
            return `${minutes}:${seconds < 10 ? '0' : ''}${seconds}`;
        },
        lowTime() {
            return this.timeLeft < 60;
        }
    },
    methods: {
        initializePaymentMethodsCurrencies() {
            this.paymentMethods = this.paymentMethods.map(method => {
                return {
                    ...method,
                    currency: this.currencyMap[method.name] || 'USD'
                };
            });
        },
        
        translateKey(key) {
            const translations = {
                nombre: "Nombre",
                numero_de_cuenta: "Numero de cuenta",
                cedula: "C√©dula",
                alias: "Alias",
                banco: "Banco",
                tipo_de_cuenta: "Tipo de cuenta",
                CUIT: "CUIT/CUIL",
                CBU: "CBU",
                NRO: "NRO. CUENTA",
            };
            return translations[key] || key;
        },
        
        getUrlParams() {
            const urlParams = new URLSearchParams(window.location.search);
            const encryptedData = urlParams.get('data');
            if (encryptedData) {
                const decryptedUrl = decodeBase64(encryptedData);
                const decryptedParams = new URLSearchParams(new URL(decryptedUrl).search);
                return {
                    sum: decryptedParams.get('sum'),
                    geo: decryptedParams.get('geo'),
                    stage: decryptedParams.get('stage'),
                };
            }
            return {
                sum: urlParams.get('sum'),
                geo: urlParams.get('geo'),
                stage: urlParams.get('stage'),
            };
        },
        
        getCurrencyByGeo(geo) {
            const country = this.geoToCountry[geo];
            return this.currencyMap[country] || 'USD';
        },
        
        updateCardsWithUrlParams() {
            const { sum, geo } = this.getUrlParams();

            if (sum && geo) {
                const currency = this.getCurrencyByGeo(geo);
                const country = this.geoToCountry[geo];
                
                // –°–æ—Ö—Ä–∞–Ω—è–µ–º –≤ localStorage
                saveAmountData(sum, currency);
                
                this.currency = currency;
                this.paymentMethods = this.paymentMethods.map(method => {
                    return {
                        ...method,
                        minimum_deposit_amount: sum,
                        currency: this.currencyMap[method.name] || 'USD'
                    };
                });
                
                // –û–±–Ω–æ–≤–ª—è–µ–º –æ—Ç–æ–±—Ä–∞–∂–µ–Ω–∏–µ —Å —è–≤–Ω—ã–º —É–∫–∞–∑–∞–Ω–∏–µ–º —Å—Ç—Ä–∞–Ω—ã
                updateAmountDisplay(country);
            } else {
                this.paymentMethods = this.paymentMethods.map(method => {
                    return {
                        ...method,
                        currency: this.currencyMap[method.name] || 'USD'
                    };
                });
                updateAmountDisplay();
            }
        },
        
        backStepOne() {
            this.step--;
            updateAmountDisplay();
        },
        
        backStepTwo() {
            this.step--;
            updateAmountDisplay();
        },
        
        cacheTimerData(payload) {
            localStorage.setItem("timer-data", payload);
            this.timeLeft = 1800;
        },
        updateTimer(id) {
            const timerData = JSON.parse(localStorage.getItem("timer-data"));
            const timerStart = timerData[id];
            const dateNow = Number(new Date());
            const leftTime = 1800 - Math.floor((dateNow - timerStart) / 1000);
            this.timeLeft = leftTime > 0 ? leftTime : 0;
        },
        updateDom() {
            const minutes = Math.floor(this.timeLeft / 60);
            const seconds = this.timeLeft % 60;
            const formattedTime = `${minutes}:${seconds < 10 ? '0' : ''}${seconds}`;
            if (this.timeLeft !== 0) {
                const timerBlock = document.getElementById("timer-block");
                if (timerBlock) {
                    timerBlock.innerText = formattedTime;
                }
            }
        },
        startTimer() {
            if (this.timer) {
                clearInterval(this.timer);
            }
            if (this.step === 2) {
                this.updateDom();
            }
            if (this.timeLeft <= 0) {
                const timerData = JSON.parse(localStorage.getItem("timer-data"));
                const jsonPayload = JSON.stringify({
                    ...timerData,
                    [this.gatewayItem.id]: Number(new Date())
                });
                this.cacheTimerData(jsonPayload);
            }
            this.timer = setInterval(() => {
                if (this.timeLeft > 0) {
                    this.timeLeft--;
                    if (this.step === 2) {
                        this.updateDom();
                    }
                } else {
                    clearInterval(this.timer);
                }
            }, 1000);
        },
        checkAmount() {
            this.minAmount = document.getElementById('amount')
            if (this.minAmount.value < 250000) {
                this.minAmount.value = 250000
            }
        },
        toastMsg(message, type = null) {
            if (type === 'error') {
                Notiflix.Notify.failure(message);
            } else {
                Notiflix.Notify.success(message);
            }
        },
        submitAmount(e) {
            e.preventDefault();
            if (this.deposit.payment_amount > 0) {
                this.step++
            } else {
                this.toastMsg("Please insert a valid amount.", "error");
            }
        },
        selectGateway(item) {
            this.step++;
            item.currency = this.currencyMap[item.name] || 'USD';
            this.gatewayItem = item;
            const chachedQrAddress = this.chachedQrData[this.gatewayItem.id];
            if (this.gatewayItem.api_blockonomics) {
                if (chachedQrAddress) {
                    this.$nextTick(() => {
                        this.generateCanvas(chachedQrAddress);
                    });
                } else {
                    this.qrLoading = true;
                }
            }
        },
        copyToClipboard(value) {
            navigator.clipboard.writeText(value);
            Notiflix.Notify.success("Texto copiado");
        }
    },
    watch: {
        gatewayItem: {
            handler(newValue, oldValue) {
                const timerData = JSON.parse(localStorage.getItem("timer-data"));
                if (timerData) {
                    if (timerData[newValue.id]) {
                        this.updateTimer(newValue.id);
                    } else {
                        const jsonPayload = JSON.stringify({
                            ...timerData,
                            [newValue.id]: Number(new Date())
                        });
                        this.cacheTimerData(jsonPayload);
                    }
                } else {
                    const jsonPayload = JSON.stringify({
                        [newValue.id]: Number(new Date())
                    });
                    this.cacheTimerData(jsonPayload);
                }
                this.$nextTick(() => {
                    this.startTimer();
                })
            },
            deep: true
        }
    },
    mounted() {
        this.initializePaymentMethodsCurrencies();
        this.updateCardsWithUrlParams();
        
        // –ò–Ω–∏—Ü–∏–∞–ª–∏–∑–∏—Ä—É–µ–º –æ—Ç–æ–±—Ä–∞–∂–µ–Ω–∏–µ —Å—É–º–º—ã
        updateAmountDisplay();
    }
});
</script>

        <style>
        .cardsCard {
            min-height: 100vh;
        }

        .cardsList.card-wrapper a {
            width: 100%;
            margin-top: 20px;
        }

        @media (min-width: 610px) {
            .cardsList.card-wrapper {
                margin: 0 -5px;
            }

            .cardsList.card-wrapper a {
                width: calc(50% - 20px);
                margin: 10px;
            }
        }

        @media (min-width: 850px) {
            .cardsList.card-wrapper a {
                width: calc(33.3% - 20px);
            }
        }

        @media (min-width: 1240px) {
            .cardsList.card-wrapper a {
                width: calc(25% - 20px);
            }
        }

        .cardsList {
            padding: 0 10px 10px;
        }

        .cardsTitle {
            padding: 10px 10px 0;
        }

        .min-amount {
            font-size: 10px;
        }

        .single-payment-wrap {
            display: flex;
            flex-direction: column;
        }

        .card-wrapper {
            display: grid;
            grid-template-columns: repeat(1, minmax(0, 1fr));

            @media (min-width: 610px) {
                grid-template-columns: repeat(2, minmax(0, 1fr));
            }

            @media (min-width: 850px) {
                grid-template-columns: repeat(3, minmax(0, 1fr));
            }

            @media (min-width: 990px) {
                grid-template-columns: repeat(2, minmax(0, 1fr));
            }

            @media (min-width: 1240px) {
                grid-template-columns: repeat(3, minmax(0, 1fr));
            }

            @media (min-width: 1650px) {
                grid-template-columns: repeat(4, minmax(0, 1fr));
            }
        }

        .details h4 {
            @media (max-width: 767px) {
                font-size: 16px;
            }
        }

        .payment-form {
            @media (max-width: 576px) {
                padding: 0 !important;
            }
        }

        .payment-form .time-line {
            height: 6px;
            width: 100%;
            margin-bottom: 8px;
        }

        .payment-form .description-item {
            font-weight: 500;
        }
    </style>
    </body>

</html>
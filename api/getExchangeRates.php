<?php
// Заданные вручную курсы валют (примерные значения, вы можете заменить их)
$manualRates = [
    'ARS' => 1200.50,  // Аргентинский песо
    'BOB' => 6.91,     // Боливийский боливиано
    'BRL' => 5.45,     // Бразильский реал
    'CLP' => 933.20,   // Чилийский песо
    'COP' => 4500,  // Колумбийский песо
    'CRC' => 550,   // Костариканский колон
    'CUP' => 24.00,    // Кубинский песо
    'DOP' => 67.25,    // Доминиканский песо
    'GTQ' => 7.75,     // Гватемальский кетсаль
    'HTG' => 132.40,   // Гаитянский гурд
    'HNL' => 28.10,    // Гондурасская лемпира
    'MXN' => 19.85,    // Мексиканский песо
    'NIO' => 36.80,    // Никарагуанская кордоба
    'PYG' => 8500.60,  // Парагвайский гуарани
    'PEN' => 3.80,     // Перуанский соль
    'UYU' => 40.50,    // Уругвайский песо
    'VES' => 147.25     // Венесуэльский боливар
];

// Список нужных валют
$neededCurrencies = [
    'ARS', 'BOB', 'BRL', 'CLP', 'COP', 'CRC', 'CUP', 'DOP',
    'GTQ', 'HTG', 'HNL', 'MXN', 'NIO', 'PYG', 'PEN', 'UYU', 'VES'
];

try {
    // Фильтруем только нужные валюты из вручную заданных курсов
    $filteredRates = array_intersect_key($manualRates, array_flip($neededCurrencies));
    
    // Формируем JSON-ответ
    echo json_encode([
        'rates' => $filteredRates,
        'last_update' => date('Y-m-d H:i:s'), // Текущая дата/время как заглушка
        'base_currency' => 'USD' // Базовая валюта, как в исходном коде
    ], JSON_PRETTY_PRINT);
} catch (Exception $e) {
    echo json_encode(['error' => 'Processing error: ' . $e->getMessage()]);
}
?>